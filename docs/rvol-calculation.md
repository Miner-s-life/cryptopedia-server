# RVOL Calculation Logic

RVOL(Relative Volume)ì€ íŠ¹ì • ì‹œì ì˜ ê±°ëž˜ëŸ‰ì´ ê³¼ê±° í‰ê·  ëŒ€ë¹„ ì–¼ë§ˆë‚˜ ì´ë¡€ì ì¸ì§€ë¥¼ ë‚˜íƒ€ë‚´ëŠ” ì§€í‘œë¡œ, Cryptopediaì˜ ì´ìƒ ì§•í›„ íƒì§€ í•µì‹¬ ì•Œê³ ë¦¬ì¦˜ìž…ë‹ˆë‹¤.

## ðŸ“ˆ Multi-Timeframe RVOL

ë‹¨ì¼ ì§€í‘œì˜ í•œê³„ë¥¼ ê·¹ë³µí•˜ê¸° ìœ„í•´ ë‹¨ê¸°ë¶€í„° ì¤‘ìž¥ê¸°ê¹Œì§€ì˜ 7ê°œ íƒ€ìž„í”„ë ˆìž„ì„ ë™ì‹œì— ë¶„ì„í•©ë‹ˆë‹¤.

| íƒ€ìž„í”„ë ˆìž„ | ìš©ë„ | ë¶„ì„ ê´€ì  |
|:---|:---|:---|
| **1ë¶„** | ì´ˆê³ ì† ê¸‰ë“± ê°ì§€ | ì„¸ë ¥ ë§¤ì§‘ ë° íŽŒí•‘ ì´ˆê¸° í¬ì°© |
| **5ë¶„** | ì´ˆë‹¨íƒ€ ì§„ìž… ì‹œê·¸ë„ | ê±°ëž˜ëŸ‰ ì‹¤ë¦° ëŒíŒŒ í™•ì¸ |
| **15ë¶„** | ë‹¨íƒ€ ì‹ ë¢°ë„ í™•ì¸ | ì¶”ì„¸ í˜•ì„± ì—¬ë¶€ íŒë‹¨ |
| **30ë¶„ / 1ì‹œê°„** | ì¤‘ê¸° ì¶”ì„¸ ë¶„ì„ | ì•ˆì •ì ì¸ ì¶”ì„¸ ì¶”ì¢… |
| **4ì‹œê°„** | ì¼ì¤‘ ëŒ€í˜• íë¦„ í¬ì°© | ê³ ëž˜ë“¤ì˜ ì›€ì§ìž„ ê°ì§€ |
| **Today** | ë‹¹ì¼ ì „ì²´ ê±°ëž˜ ê°•ë„ | ì˜¤ëŠ˜ í•˜ë£¨ì˜ ì‹œìž¥ ì£¼ë„ì£¼ í™•ì¸ |

## ðŸ§® ì•Œê³ ë¦¬ì¦˜ ìƒì„¸

### 1. Baseline (Daily MA30)
- ì§€ë‚œ 30ì¼ê°„ì˜ ì¼ì¼ í‰ê·  ê±°ëž˜ëŸ‰ì„ ê¸°ì¤€ì (100%)ìœ¼ë¡œ ì„¤ì •í•©ë‹ˆë‹¤.
- `DailyMA30 = (Day1 + Day2 + ... + Day30) / 30`

### 2. Time-Weighted Expected Volume
- í˜„ìž¬ ì‹œê°„(UTC)ì„ ê¸°ì¤€ìœ¼ë¡œ ì˜¤ëŠ˜ í•˜ë£¨ ì¤‘ ì–´ëŠ ì •ë„ ì‹œê°„ì´ í˜ë €ëŠ”ì§€ë¥¼ ë°˜ì˜í•˜ì—¬ ì˜ˆìƒ ê±°ëž˜ëŸ‰ì„ ê³„ì‚°í•©ë‹ˆë‹¤.
- `ExpectedVolume = DailyMA30 * (ElapsedMinutes / 1440)`

### 3. íƒ€ìž„í”„ë ˆìž„ë³„ RVOL ê³„ì‚°
- **1ë¶„/5ë¶„/15ë¶„ ë“±**: í•´ë‹¹ êµ¬ê°„ì˜ ëˆ„ì  ê±°ëž˜ëŸ‰ì„ MA30 ê¸°ë°˜ì˜ ê¸°ëŒ€ê°’ìœ¼ë¡œ ë‚˜ëˆ•ë‹ˆë‹¤.
- `RVOL_5m = CurrentVolume(5m) / (DailyMA30 * (5 / 1440))`

## ðŸš¨ Surge Detection Scenarios

### 1. ì´ˆê¸° ë§¤ìˆ˜ì„¸ í™•ì¸ (VAP)
ê±°ëž˜ëŸ‰ì´ í­ë°œí•˜ë©´ì„œ ê°€ê²©ì´ ë™ì‹œì— ìƒìŠ¹í•˜ëŠ” ê²½ìš°ë¥¼ ê°ì§€í•©ë‹ˆë‹¤.
```kotlin
// 1m RVOLì´ í‰ì†Œë³´ë‹¤ 8ë°° ì´ìƒ, 5mê°€ 4ë°° ì´ìƒì¼ ë•Œ
isSurging = rvol1m > 8.0 && rvol5m > 4.0 && priceChangePercent > 0
```

### 2. ë‹¤ì¤‘ ì»¨íŽŒ (Confirmation)
ì—¬ëŸ¬ íƒ€ìž„í”„ë ˆìž„ì—ì„œ ë™ì‹œì— ê±°ëž˜ëŸ‰ì´ í„°ì§ˆ ë•Œ ì‹ ë¢°ë„ê°€ ê¸‰ê²©ížˆ ìƒìŠ¹í•©ë‹ˆë‹¤.
- 1m, 5m, 15m RVOLì´ ëª¨ë‘ ìž„ê³„ì¹˜ë¥¼ ë„˜ëŠ” ê²½ìš° ê°•ë ¥í•œ ì•Œë¦¼ ë°œì†¡.

## ðŸ“Š Data Analytics Flow

```mermaid
graph LR
    C[Candles] --> S[Sum Volume]
    M[MA30 Stats] --> E[Expected Volume]
    S & E --> R[Calculate RVOL x 7]
    R --> D[Surge Detection]
    D --> Slack[Slack Alert]
    R --> API[Market API Response]
```
